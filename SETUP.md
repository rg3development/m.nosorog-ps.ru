## DEV deploy

1. клонировать репозиторий CMS в свою рабочую копию:

        git clone ...

2. установить симлинк на каталог фрейморка

        ln -s /var/www/dev/CI/2.1.0/system/ ./system

3. настройка конфигурационных файлов (`/application/config/`)
    * скопировать и переименовать файлы `cms_config.php.example`, `cms_constants.php.example`

4. настройка директории загрузки файлов (`/www/`)
    * скопировать папку `upload`
    * назначить права `0777`

5. установка симлинков на www-папки (`/setup_www.sh`)
    * запустить скрипт из корневой директории проекта
    * ввести название темы шаблона для `www_admin` и `www_site` отображений
    * или оставить пустым (по умолчанию будет выбрана `default`)

6. первичная настройка констант (`/application/config/cms_constants.php`)
    * `ENVIRONMENT` - текущее окружение (отвечает за вывод ошибок)
    * `DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_DATABASE` - параметры подключения к БД
    * `THEME_CUSTOM_VIEWS_PATH` - название темы для отображений
    * `THEME_CUSTOM_MODELS_PATH` - название темы для моделей

7. добавление новой модели шаблона (`/application/models/`)
    * создать папку с названием темы шаблона
    * создать новые или переопределить старые модели, скопировав из `/models/default`
    * обновить константу `THEME_CUSTOM_MODELS_PATH`

8. добавление новой темы шаблона (`/application/views/`)
    * создать папку с названием темы шаблона
    * создать структуру темы (структуру см. ниже)
    * обновить константу `THEME_CUSTOM_VIEWS_PATH`
    * при необходимости, обновить симлинки скриптом `/setup_www.sh`

#### Cтруктура директории темы шаблона

* `/admin` - отображения админки
* `/site` - отображения сайта
* `/widgets` - отображения виджетов
* `/www_admin` - www-ресурсы для админки (необходимо создать все поддиректории)
    * `/css` - css файлы
    * `/img` - изображения
    * `/js` - js файлы
* `/www_site` - www-ресурсы для сайта (необходимо создать все поддиректории)
    * `/css` - css файлы
    * `/img` - изображения
    * `/js` - js файлы
* `widgets.php` - файл данных виджетов